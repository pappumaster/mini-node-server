<!--
    Run this page in adifferent browsers and it should output the browser fingerprint
-->

<html>
    <title>Fingerprinting!</title>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js" type="text/javascript"></script>
    <script>
    $(function() {
	var fingerprintObject = {};

	fingerprintObject.userAgent = navigator.userAgent;
	fingerprintObject.language = navigator.language;
	fingerprintObject.colorDepth = screen.colorDepth;
	fingerprintObject.width = screen.width;
	fingerprintObject.height = screen.height;
	fingerprintObject.timezoneOffset = new Date().getTimezoneOffset();
	fingerprintObject.localStorage = !!window.localStorage;
	fingerprintObject.sessionStorage = !!window.localStorage;

	var pluginObj = {};

	Object.keys(navigator.plugins).forEach(function(key) {
	    pluginObj[key] = {};

	    pluginObj[key].description = navigator.plugins[key].description;
	    pluginObj[key].name = navigator.plugins[key].name;
	    pluginObj[key].filename = navigator.plugins[key].filename;		
	});
	fingerprintObject.plugins = pluginObj;
	console.log(JSON.stringify(fingerprintObject));

        $.post('addProfile', JSON.stringify(fingerprintObject),
        function(data, status) {
            alert(data);
        });
    });
    </script>
</html>
